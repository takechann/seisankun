{"remainingRequest":"/Users/TakeyaKurose/Desktop/seisankun/node_modules/babel-loader/lib/index.js!/Users/TakeyaKurose/Desktop/seisankun/node_modules/eslint-loader/index.js??ref--13-0!/Users/TakeyaKurose/Desktop/seisankun/src/router.js","dependencies":[{"path":"/Users/TakeyaKurose/Desktop/seisankun/src/router.js","mtime":1569179770000},{"path":"/Users/TakeyaKurose/Desktop/seisankun/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/TakeyaKurose/Desktop/seisankun/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/TakeyaKurose/Desktop/seisankun/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from \"./views/Home.vue\";\nimport About from \"./views/About.vue\";\nimport Signup from \"./components/Signup\";\nimport Signin from \"./components/Signin\";\nimport firebase from 'firebase';\nVue.use(Router);\nvar router = new Router({\n  routes: [{\n    path: '*',\n    redirect: 'home'\n  }, {\n    path: '/',\n    name: 'home',\n    component: Home\n  }, {\n    path: '/about',\n    name: 'about',\n    component: About,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/signup',\n    name: 'Signup',\n    component: Signup\n  }, {\n    path: '/signin',\n    name: 'Signin',\n    component: Signin\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var requiresAuth = to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  });\n\n  if (requiresAuth) {\n    // ユーザがログインされているかどうか認証．\n    // もしされていないならば，ログインページにリダイレクト．\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log('aaaaa');\n        next();\n      } else {\n        console.log('bbb');\n        next({\n          path: '/',\n          query: {\n            redirect: to.fullPath\n          }\n        });\n      }\n    });\n  } else {\n    console.log('ccc');\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/TakeyaKurose/Desktop/seisankun/src/router.js"],"names":["Vue","Router","Home","About","Signup","Signin","firebase","use","router","routes","path","redirect","name","component","meta","requiresAuth","beforeEach","to","from","next","matched","some","record","auth","onAuthStateChanged","user","console","log","query","fullPath"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,IAAP;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEAN,GAAG,CAACO,GAAJ,CAAQN,MAAR;AAEA,IAAIO,MAAM,GAAG,IAAIP,MAAJ,CAAW;AACtBQ,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADM,EAKN;AACED,IAAAA,IAAI,EAAE,GADR;AAEEE,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEX;AAHb,GALM,EAUN;AACEQ,IAAAA,IAAI,EAAE,QADR;AAEEE,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAEV,KAHb;AAIEW,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAVM,EAgBN;AACEL,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAET;AAHb,GAhBM,EAqBN;AACEM,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAER;AAHb,GArBM;AADc,CAAX,CAAb;AA8BAG,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMJ,YAAY,GAAGE,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACR,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAArB;;AACA,MAAIA,YAAJ,EAAkB;AAChB;AACA;AACAT,IAAAA,QAAQ,CAACiB,IAAT,GAAgBC,kBAAhB,CAAmC,UAAUC,IAAV,EAAgB;AACjD,UAAIA,IAAJ,EAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAR,QAAAA,IAAI;AACL,OAHD,MAGO;AACLO,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAR,QAAAA,IAAI,CAAC;AACHT,UAAAA,IAAI,EAAE,GADH;AAEHkB,UAAAA,KAAK,EAAE;AAAEjB,YAAAA,QAAQ,EAAEM,EAAE,CAACY;AAAf;AAFJ,SAAD,CAAJ;AAID;AACF,KAXD;AAYD,GAfD,MAeO;AACLH,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAR,IAAAA,IAAI;AACL;AACF,CArBD;AAuBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\nimport Signup from './components/Signup'\nimport Signin from './components/Signin'\nimport firebase from 'firebase'\n\nVue.use(Router)\n\nlet router = new Router({\n  routes: [\n    {\n      path: '*',\n      redirect: 'home'\n    },\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/about',\n      name: 'about',\n      component: About,\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/signup',\n      name: 'Signup',\n      component: Signup\n    },\n    {\n      path: '/signin',\n      name: 'Signin',\n      component: Signin\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth)\n  if (requiresAuth) {\n    // ユーザがログインされているかどうか認証．\n    // もしされていないならば，ログインページにリダイレクト．\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log('aaaaa')\n        next()\n      } else {\n        console.log('bbb')\n        next({\n          path: '/',\n          query: { redirect: to.fullPath }\n        })\n      }\n    })\n  } else {\n    console.log('ccc')\n    next()\n  }\n})\n\nexport default router\n"]}]}